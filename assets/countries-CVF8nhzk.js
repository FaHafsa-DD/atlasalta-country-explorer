import{p as e,y as u,w as p,a as i,x as g}from"./chunk-4WY6JWTD-URcJjIBA.js";function m({children:t,...r}){return e.jsx("button",{className:"border-2 border-primary text-primary p-2 rounded w-md cursor-pointer focus:text-white focus:bg-primary",...r,children:t})}async function b(){return(await fetch("https://restcountries.com/v3.1/all?fields=name,flags,region")).json()}const j=u(function(){return e.jsx("div",{className:"flex justify-center items-center h-40 bg-gray-50",children:e.jsx("p",{className:"text-gray-700 text-lg",children:"Your data is on the way..."})})}),w=p(function({loaderData:r}){const[n,d]=i.useState(""),[a,o]=i.useState("All"),x=[...new Set(r.map(s=>s.region))],c=r.filter(s=>{const l=!n||s.name.common.toLowerCase().includes(n.toLowerCase().trim()),h=a==="All"||s.region.toLowerCase()===a.toLowerCase();return l&&h});return e.jsxs("main",{className:"px-6 sm:px-10 lg:px-20 py-10",children:[e.jsx("h2",{className:"font-extrabold text-3xl sm:text-4xl mb-6 text-center","aria-label":"Countries Page",children:"Countries"}),e.jsxs("div",{className:"flex justify-center mt-6",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search countries by name"}),e.jsx("input",{id:"search",className:`w-full sm:w-3/4 lg:w-1/2 p-3 rounded-3xl border border-gray-300 shadow-inner\r
          text-primary italic focus:outline-none focus:ring-2 focus:ring-blue-400`,type:"text",value:n,placeholder:"Search by name",onChange:s=>d(s.target.value)})]}),e.jsxs("div",{className:"flex justify-center gap-2 my-6",children:[x.map(s=>e.jsx(m,{onClick:()=>o(s),"aria-pressed":a===s,children:s||"Unknown"},s)),e.jsx(m,{onClick:()=>o("All"),"aria-pressed":a==="All",children:"All"})]}),e.jsx("section",{"aria-label":"List of countries",className:"mt-10",children:c.length>0?e.jsx("ul",{className:"country-card",children:c.map((s,l)=>e.jsx("li",{children:e.jsxs(g,{to:`/countries/${s.name.common}`,className:`block p-4 rounded-xl shadow-md bg-white hover:shadow-lg\r
              transition border border-transparent hover:border-gray-300`,"aria-label":`View details for ${s.name.common}`,children:[e.jsx("div",{className:"w-32 h-20 mx-auto overflow-hidden rounded-md shadow-sm bg-gray-100",children:e.jsx("img",{src:s.flags.png,alt:s.flags.alt||`${s.name.common} flag`,className:"w-full h-full object-cover"})}),e.jsx("h3",{className:"text-lg font-semibold mt-4 text-center text-gray-800",children:s.name.common}),e.jsx("p",{className:"text-sm text-center text-gray-500",children:s.region})]})},l))}):e.jsx("p",{className:"italic text-center text-gray-600",children:"No countries match your search."})})]})});export{j as HydrateFallback,b as clientLoader,w as default};
